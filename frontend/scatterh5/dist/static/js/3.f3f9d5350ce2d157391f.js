webpackJsonp([3],{"5acz":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"send",data:function(){return{ruleForm:{account:"",amount:"",memo:""},rules:{account:[{required:!0,message:"account",min:1,trigger:"blur"}],amount:[{required:!0,message:"amount",min:1,trigger:"blur"}],memo:[{required:!0,message:"memo",min:1,trigger:"blur"}]}}},mounted:function(){},methods:{goback:function(){this.$router.push("index")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.getUserScatter()})},resetForm:function(e){this.$refs[e].resetFields()},getUserScatter:function(){var e=this,t=(new WebSocket("ws://127.0.0.1:50005/socket.io/?EIO=3&transport=websocket"),{blockchain:"eos",protocol:"http",host:"api.eossweden.se",port:80,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"});this.$ScatterJS.scatter.connect("My App").then(function(o){if(console.log(o),!o)return!1;var r=e.$ScatterJS.scatter,n={accounts:[t]};r.getIdentity(n).then(function(o){var n=r.identity.accounts.find(function(e){return"eos"===e.blockchain&&"active"===e.authority}),a=r.eos(t,e.$Eos,{expireInSeconds:60}),c={authorization:[n.name+"@"+n.authority]};a.contract("tokenshields").then(function(t){t.transfer(n.name,e.ruleForm.account,e.ruleForm.amount+" TSL","转账",c).then(function(t){console.log(t),t.transaction_id&&e.$message.success("success"),e.transaction_id=t.transaction_id}).catch(function(e){console.log(e)})})}).catch(function(e){console.error(e)})})}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"send"},[o("i",{staticClass:"el-icon-d-arrow-left",on:{click:e.goback}}),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"sendBox"},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"account",prop:"account"}},[o("el-input",{attrs:{placeholder:"account"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"amount",prop:"amount"}},[o("el-input",{attrs:{placeholder:"amount"},model:{value:e.ruleForm.amount,callback:function(t){e.$set(e.ruleForm,"amount",t)},expression:"ruleForm.amount"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"memo",prop:"memo"}},[o("el-input",{attrs:{placeholder:"memo"},model:{value:e.ruleForm.memo,callback:function(t){e.$set(e.ruleForm,"memo",t)},expression:"ruleForm.memo"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("send")])],1)],1)],1)])},staticRenderFns:[]};var a=o("VU/8")(r,n,!1,function(e){o("rgHZ")},"data-v-2b615e87",null);t.default=a.exports},rgHZ:function(e,t){}});
//# sourceMappingURL=3.f3f9d5350ce2d157391f.js.map