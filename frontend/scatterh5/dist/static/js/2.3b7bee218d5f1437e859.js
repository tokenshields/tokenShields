webpackJsonp([2],{"2get":function(t,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var n={name:"account",data:function(){return{accounts:{},balance:""}},watch:{accounts:function(){this.getUserBalance()}},mounted:function(){this.getUserScatter()},methods:{getUserScatter:function(){var t=this,c=(new WebSocket("ws://127.0.0.1:50005/socket.io/?EIO=3&transport=websocket"),{blockchain:"eos",protocol:"http",host:"api.eossweden.se",port:80,chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"});this.$ScatterJS.scatter.connect("My App").then(function(e){if(console.log(e),!e)return!1;var n=t.$ScatterJS.scatter,a={accounts:[c]};n.getIdentity(a).then(function(c){t.accounts=c.accounts[0],sessionStorage.setItem("accountName",t.accounts.name),console.log(c.accounts[0])}).catch(function(c){console.error(c),t.$message.error(c)})})},getUserBalance:function(){var t=this;this.$axios.post("/get_currency_balance",{account:this.accounts.name,code:"tokenshields",symbol:"TSL"}).then(function(c){console.log(c),t.balance=c[0],0==c.length&&(t.balance="0 TSL")}).catch(function(t){console.log(t)})}}},a={render:function(){var t=this,c=t.$createElement,e=t._self._c||c;return e("div",{staticClass:"account"},[e("div",{staticClass:"box"},[e("span",{staticClass:"name"},[t._v("account")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"num"},[t._v(t._s(t.accounts.name))])]),t._v(" "),e("div",{staticClass:"box"},[e("span",{staticClass:"name"},[t._v("balance")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"num"},[t._v(t._s(t.balance))])])])},staticRenderFns:[]};var s=e("VU/8")(n,a,!1,function(t){e("Z+0j")},"data-v-4ea88240",null);c.default=s.exports},"Z+0j":function(t,c){}});
//# sourceMappingURL=2.3b7bee218d5f1437e859.js.map