{"version":3,"sources":["webpack:///src/components/index.vue","webpack:///./src/components/index.vue?613a","webpack:///./src/components/index.vue"],"names":["components","name","data","accounts","balance","watch","this","getUserBalance","mounted","getUserScatter","methods","_this","network","WebSocket","blockchain","protocol","host","port","chainId","$ScatterJS","scatter","connect","then","connected","console","log","$router","push","requiredFields","getIdentity","res","sessionStorage","setItem","catch","error","_this2","$axios","post","account","code","symbol","err","gotoset","gotoSend","selectortype_template_index_0_src_components","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","type","_v","_s","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0HAsBA,IAAAA,GACAC,KAAA,QACAC,KAFA,WAGA,OACAC,YACAC,QAAA,KAGAC,OACAF,SADA,WAEAG,KAAAC,mBAGAC,QAbA,WAcAF,KAAAG,kBAEAC,SACAD,eADA,WACA,IAAAE,EAAAL,KAGAM,GADA,IAAAC,UAAA,8DAEAC,WAAA,MACAC,SAAA,OACAC,KAAA,mBACAC,KAAA,GACAC,QAAA,qEAGAZ,KAAAa,WAAAC,QAAAC,QAAA,UAAAC,KAAA,SAAAC,GAEA,GADAC,QAAAC,IAAAF,IACAA,EAEA,OADAZ,EAAAe,QAAAC,KAAA,UACA,EAEA,IAAAP,EAAAT,EAAAQ,WAAAC,QACAQ,GAAAzB,UAAAS,IACAQ,EAAAS,YAAAD,GAAAN,KAAA,SAAAQ,GACAnB,EAAAR,SAAA2B,EAAA3B,SAAA,GACA4B,eAAAC,QAAA,cAAArB,EAAAR,SAAAF,MACAuB,QAAAC,IAAAK,EAAA3B,SAAA,MACA8B,MAAA,SAAAC,GACAV,QAAAU,cAIA3B,eA7BA,WA6BA,IAAA4B,EAAA7B,KACAA,KAAA8B,OAAAC,KAAA,yBACAC,QAAAhC,KAAAH,SAAAF,KACAsC,KAAA,eACAC,OAAA,QAEAlB,KAAA,SAAAQ,GACAN,QAAAC,IAAAK,GACAK,EAAA/B,QAAA0B,EAAA,KAEAG,MAAA,SAAAQ,GACAjB,QAAAC,IAAAgB,MAGAC,QA3CA,WA4CApC,KAAAoB,QAAAC,KAAA,YAEAgB,SA9CA,WA+CArC,KAAAoB,QAAAC,KAAA,WClFeiB,GADEC,OAFjB,WAA0B,IAAAC,EAAAxC,KAAayC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,YAAsBF,EAAA,OAAAA,EAAA,UAAyBG,OAAOC,KAAA,aAAkBP,EAAAQ,GAAA,cAAAR,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA3C,SAAAF,MAAA,YAAAgD,EAAA,MAAAH,EAAAQ,GAAA,KAAAL,EAAA,UAAsGG,OAAOC,KAAA,aAAkBP,EAAAQ,GAAA,cAAAR,EAAAQ,GAAAR,EAAAS,GAAAT,EAAA1C,SAAA,cAAA0C,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,aAAsGG,OAAOC,KAAA,WAAiBG,IAAKC,MAAAX,EAAAJ,WAAqBI,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAmDE,YAAA,aAAuBF,EAAA,aAAkBG,OAAOC,KAAA,WAAiBG,IAAKC,MAAAX,EAAAH,YAAsBG,EAAAQ,GAAA,qBAEvmBI,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE7D,EACA4C,GATF,EAVA,SAAAkB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.efc976ded5e95093512d.js","sourcesContent":["<template>\n  <div class=\"index\">\n    <div class=\"headBox\">\n      <div>\n        <el-tag type=\"success\">account:</el-tag>{{accounts.name}}\n        <br />\n        <el-tag type=\"success\">balance:</el-tag>{{balance}}\n      </div>\n      <div>\n        <el-button type=\"primary\" @click=\"gotoset\">settings</el-button>\n      </div>\n    </div>\n    <div class=\"transfer\">\n      <el-button type=\"primary\" @click=\"gotoSend\">transfer</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n\n\n\nexport default {\n  name: 'index',\n  data () {\n    return {\n      accounts: {},\n      balance: '',\n    }\n  },\n  watch: {\n    accounts () {\n      this.getUserBalance()\n    },\n  },\n  mounted () {\n    this.getUserScatter()\n  },\n  methods: {\n    getUserScatter () {\n      const host = '127.0.0.1:50005';\n      const socket = new WebSocket(`ws://${host}/socket.io/?EIO=3&transport=websocket`);\n      const network = {\n        blockchain:'eos',\n        protocol:'http',\n        host:'api.eossweden.se',\n        port:80,\n        chainId:'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906'\n      }\n      // First we need to connect to the user's Scatter.\n      this.$ScatterJS.scatter.connect('My App').then((connected) => {\n        console.log(connected);\n        if(!connected) {\n          this.$router.push('login');\n          return false;\n        }\n        const scatter = this.$ScatterJS.scatter;\n        const requiredFields = { accounts:[network] };\n        scatter.getIdentity(requiredFields).then((res) => {\n          this.accounts = res.accounts[0]\n          sessionStorage.setItem('accountName',this.accounts.name)\n          console.log(res.accounts[0]);\n        }).catch(error => {\n          console.error(error);\n        });\n      });\n    },\n    getUserBalance () {\n      this.$axios.post('/get_currency_balance',{\n        account: this.accounts.name,\n        code: 'tokenshields',\n        symbol: 'TSL',\n      })\n      .then((res) => {\n        console.log(res)\n        this.balance = res[0]\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n    },\n    gotoset () {\n      this.$router.push('setlimt')\n    },\n    gotoSend () {\n      this.$router.push('send')\n    },\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"less\" scoped>\n.index{\n  width: 100%;\n  height: auto;\n  .headBox{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .transfer{\n    text-align: center;\n    margin-top: 20px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index\"},[_c('div',{staticClass:\"headBox\"},[_c('div',[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"account:\")]),_vm._v(_vm._s(_vm.accounts.name)+\"\\n      \"),_c('br'),_vm._v(\" \"),_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"balance:\")]),_vm._v(_vm._s(_vm.balance)+\"\\n    \")],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.gotoset}},[_vm._v(\"settings\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"transfer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.gotoSend}},[_vm._v(\"transfer\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ab20c6c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5ab20c6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ab20c6c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5ab20c6c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}